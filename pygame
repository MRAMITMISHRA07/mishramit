import pygame
import random

# Initialize Pygame
pygame.init()

# Constants
WIDTH, HEIGHT = 800, 600
FPS = 60
BIRD_SIZE = 50
STONE_SIZE = 50
STONE_SPEED = 5

# Colors
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
RED = (255, 0, 0)

# Create the game window
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Bird Game")

# Load images
bird_img = pygame.image.load('bird.png').convert()
bird_img = pygame.transform.scale(bird_img, (BIRD_SIZE, BIRD_SIZE))
stone_img = pygame.image.load('stone.png').convert()
stone_img = pygame.transform.scale(stone_img, (STONE_SIZE, STONE_SIZE))

# Clock for controlling FPS
clock = pygame.time.Clock()

# Bird attributes
bird_x = 50
bird_y = HEIGHT // 2
bird_velocity = 0

# Stones list
stones = []

# Game loop
running = True
while running:
    screen.fill(WHITE)

    # Event handling
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # Handle bird movement
    keys = pygame.key.get_pressed()
    if keys[pygame.K_SPACE]:
        bird_velocity = -10

    bird_velocity += 0.5
    bird_y += bird_velocity

    # Create stones
    if len(stones) < 5:
        stone_x = WIDTH + 20
        stone_y = random.randint(50, HEIGHT - 50)
        stones.append([stone_x, stone_y])

    # Update and draw stones
    for stone in stones[:]:
        stone[0] -= STONE_SPEED
        screen.blit(stone_img, (stone[0], stone[1]))

        # Check for collision with bird
        stone_rect = pygame.Rect(stone[0], stone[1], STONE_SIZE, STONE_SIZE)
        bird_rect = pygame.Rect(bird_x, bird_y, BIRD_SIZE, BIRD_SIZE)
        if stone_rect.colliderect(bird_rect):
            running = False

        # Remove stones that have passed the screen
        if stone[0] < -STONE_SIZE:
            stones.remove(stone)

    # Draw the bird
    screen.blit(bird_img, (bird_x, bird_y))

    # Boundaries for the bird
    if bird_y > HEIGHT - BIRD_SIZE:
        bird_y = HEIGHT - BIRD_SIZE
        bird_velocity = 0
    elif bird_y < 0:
        bird_y = 0
        bird_velocity = 0

    pygame.display.flip()
    clock.tick(FPS)

# Quit Pygame
pygame.quit()
